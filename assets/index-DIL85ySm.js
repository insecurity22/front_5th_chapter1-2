import{c as g,r as i,a as r,g as a,H as h,U as d,b as s,P as w,F as p,L as b}from"./render-BKVl_Srn.js";function P(){var e;const t=(e=window.location.pathname)==null?void 0:e.replace(/\/$/,""),o=window.location.hash.substring(1),n=t+o;history.replaceState(null,null,n)}P();const f=t=>{const{subscribe:o,notify:n}=g(),e=()=>window.location.pathname,c=()=>t[e()],l=u=>{window.history.pushState(null,null,u),n()};return window.addEventListener("popstate",()=>n()),{get path(){return e()},push:l,subscribe:o,getTarget:c}};i.set(f({"/":h,"/login":()=>{const{loggedIn:t}=a.getState();if(t)throw new p;return s(b,null)},"/profile":()=>{const{loggedIn:t}=a.getState();if(!t)throw new d;return s(w,null)}}));function m(){i.get().subscribe(r),a.subscribe(r),r()}m();
